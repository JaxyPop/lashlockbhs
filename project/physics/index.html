<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>nerdshit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <canvas id="canvas" width="200" height="100"></canvas>
  <script>
    const c = document.getElementById("canvas")
    const ctx = c.getContext("2d")
    
    c.width = window.innerWidth
    c.height = window.innerHeight

    const animate = (drawFrame) => {
      let running = true;

      const step = () => {
        drawFrame(performance.now());
        maybeStep();
      };

      const maybeStep = () => {
        if (running) {
          requestAnimationFrame(step);
        }
      };

      document.documentElement.onclick = (e) => {
        running = !running;
        maybeStep();
      };

      maybeStep();
    };


    const registerOnClick = (callFunc) => {
      ThisCallFunc = callFunc(mouseX, mouseY);
    }

    const drawLine = (x1, y1, x2, y2, color, ctx) => {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
    }

    const drawRect = (x1, y1, width, height, color, ctx) => {
      drawLine(x1, y1, x1 + width, y1, color, ctx);
      drawLine(x1 + width, y1, x1 + width, y1 + height, color, ctx);
      drawLine(x1 + width, y1 + height, x1, y1 + height, color, ctx);
      drawLine(x1, y1 + height, x1, y1, color, ctx);
    }

    const drawFilledRect = (x1, y1, side1, side2, color, ctx) => {
      ctx.fillStyle = color;
      ctx.fillRect(x1, y1, side1, side2, ctx);
    }

    const drawTriangle = (x1, y1, x2, y2, x3, y3, color, ctx) => {
      drawLine(x1, y1, x2, y2, color, ctx);
      drawLine(x2, y2, x3, y3, color, ctx);
      drawLine(x3, y3, x1, y1, color, ctx);
    };

    const drawFilledCircle = (x, y, size, color, ctx) => {
      ctx.fillStyle = color;
      ctx.arc(x, y, size, 0, Math.PI * 2, false);
      ctx.fill()
    }

    const drawText = (text, x, y, size, color, ctx) => {
      ctx.font = size + "px Sans-Serif";
      ctx.fillStyle = color;
      ctx.fillText(text, x, y, size, ctx);
    }

    
    const clear = (ctx, canvas) => {
      ctx.clearRect(0, 0, canvas.width, canvas.height)
    }

    const componentToHex = (c) => {
      var hex = c.toString(16);
      return hex.length == 1 ? "0" + hex : hex;
    }

    const rgbToHex = (r, g, b) => {
      return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
    }

    const newCanvas = (id) => {
      const canvas = document.createElement('canvas');
      const body = document.getElementsByTagName("body")[0];
      canvas.id = id;
      canvas.width = window.innerWidth / 4;
      canvas.height = window.innerHeight / 4;
      body.appendChild(canvas);
      return canvas;
    }

    const getCtx = (canvas) => {
      return canvas.getContext("2d")
    }

  </script>
  <script>
    //code physics here    
    //use draw and helper funtions
    let next = 0;
    let countFrame = 0
    let shapeCordsSquare = [{"xAdd" : 0, "yAdd" : 10}, {"xAdd" : 10, "yAdd" : 0}, {"xAdd" : 0, "yAdd" : -10}, {"xAdd" : -10, "yAdd" : 0}]

    const shape = (sidesCords, x, y, rotation) =>{
      return {"x" : x, "y" : y, "sidesCords" : sidesCords, "rotation" : rotation}
    }

    const drawShape = (shape) =>{
      let rotaionalPercent = shape.rotation;
      let currX = shape.x;
      let currY = shape.y;
      for(let i = 0; i<shape.sidesCords.length; i++){
        drawLine(currX, currY, currX+shape.sidesCords[i].xAdd, currY+shape.sidesCords[i].yAdd, 'black', ctx);
        currX += shape.sidesCords[i].xAdd;
        currY += shape.sidesCords[i].yAdd;
      }
    }
    const collisons = (objects) =>{
      for(let objectIndex = 0; objectIndex < objects.length; objectIndex++){
        for(let checkIndex = 0; checkIndex < objects.length; checkIndex++){
          
        }
      }
    }

    const getBoundOfObject = (shape) =>{

    }


    const drawFrame = (time) =>{
      if(time>next){
        countFrame++
        //clear();
        //drawFilledCircle(10, 1*countFrame,10, "blue", ctx)
        next+=10
      }
    }


    const square1 = shape(shapeCordsSquare, 100, 100, 0)
    drawShape(square1)

    animate(drawFrame)
  </script>

</body>

</html>